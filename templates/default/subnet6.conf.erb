#
# Generated by Chef for <%= node['fqdn'] %>
# Do NOT modify this file by hand, changes will be overwritten.
#

# <%= @name -%><% if @comment -%><%= - @comment -%><% end -%>
subnet6 <%= @subnet %>/<%= @prefix %> {
<% unless nil_or_empty?(@range) -%>
  # Ranges
  <% property_array(@range).each do |range| -%>
  range6 <%= range %>;
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@parameters) -%>

  # Parameters
  <% property_collection_sorted(@parameters).each do |parameter, value| -%>
  <%= parameter %><% unless nil_or_empty?(value) -%> <%= value %><% end -%>;
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@options) -%>

  # Options
  <% property_collection_sorted(@options).each do |option, value| -%>
  option <%= option %> <%= value %>;
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@allow) -%>

  # Allow Access Control
  <% property_array(@allow).each do |allowed| -%>
  allow <%= allowed %>;
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@deny) -%>

  # Deny Access Control
  <% property_array(@deny).each do |denied| -%>
  deny <%= denied %>;
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@extra_lines) -%>

  # Extra Lines
  <% @extra_lines.each do |line| -%>
  <%= line %>
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@evals) -%>

  # Evals
  <% @evals.each do |eval| -%>
  <%= eval %>
  <% end -%>
<% end -%>

<% unless nil_or_empty?(@pool) -%>
<% property_array(@pool).each do |pool| -%>
  pool6 {
  <% unless nil_or_empty?(pool['range']) -%>
    # Ranges
    <% pool['range'].sort.each do |range| -%>
    range6 <%= range %>;
    <% end -%>
  <% end -%>
  <% unless nil_or_empty?(@allow) -%>

    # Allow Access Control
    <% pool['allow'].sort.each do |allowed| -%>
    allow <%= allowed %>;
    <% end -%>
  <% end -%>
  <% unless nil_or_empty?(@deny) -%>

    # Deny Access Control
    <% pool['deny'].sort.each do |denied| -%>
    deny <%= denied %>;
    <% end -%>
  <% end -%>
  }
<% end -%>
<% end -%>
}
