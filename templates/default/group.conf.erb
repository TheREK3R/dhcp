#
# Generated by Chef for <%= node['fqdn'] %>
# Do NOT modify this file by hand, changes will be overwritten.
#

# <%= @name -%><% if @comment -%><%= - @comment -%><% end -%>
group  {
<% unless nil_or_empty?(@parameters) -%>  
  <% property_sorted_hash(@parameters).each do |parameter, value| -%>
  <%= parameter %> <%= value %>;
  <% end -%>
<% end -%>
<% unless nil_or_empty?(@evals) -%>  

<% @evals.sort.each do |eval| -%>
  <%= eval %>
<% end -%>
<% end -%>
<% unless nil_or_empty?(@evals) -%>

<% @evals.sort.each do |host, data| -%>
  host <%= host %> {
  <% if data.key?("parameters") -%>
  <% data['parameters'].sort.each do |parameter, value| -%>
    <%= parameter %>;
  <% end -%>
  <% end -%>
  <% if data.key?("options") -%>
  <% property_sorted_hash(data['options']).each do |option, value| -%>
    option <%= option %> <%= value %>;
  <% end -%>
  <% end -%>
    <%= data["identifier"] %>; 
  <% if data.key?("ip") -%>  
    <%= @ip_version.eql?(:ipv6) ? 'fixed-address6' : 'fixed-address' %> <%= data["ip"] %>;
  <% end -%>
  }
<% end -%>
<% end -%>
}
